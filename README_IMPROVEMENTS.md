# ๐ ุชุบุฑุงุช ู ุจูุจูุฏูุง ุงูุฌุงู ุดุฏู ุฏุฑ ุฑุจุงุช

## โ ูุดฺฉูุงุช ุจุฑุทุฑู ุดุฏู

###  1. ุฑูุน ูุดฺฉู ADMIN_ID
- ุชูุงู ูุงูโูุง ูพุฑูฺู ุงุฒ `ADMIN_IDS` (ูุณุช) ุจู ุฌุง `ADMIN_ID` (ุชฺฉ) ุงุณุชูุงุฏู ูโฺฉููุฏ
- ูพุดุชุจุงู ุงุฒ ฺูุฏ ุงุฏูู ุจู ุตูุฑุช ููุฒูุงู
- ุงุฑุณุงู ุงุนูุงูโูุง ุจู ุชูุงู ุงุฏููโูุง

### 2. ุฑูุน ุงุดุชุจุงูุงุช ุชุงูพ
- `END_CONVERSATION` ุจู `END_CONVERSION` ุชุจุฏู ุดุฏ ุฏุฑ ุชูุงู ูุงูโูุง

## ๐ฏ ูุงุจูุชโูุง ุฌุฏุฏ ูพุงุฏูโุณุงุฒ ุดุฏู

### 1. ุฏฺฉูู ฺฉุณุจ ุฏุฑุขูุฏ ๐ต
**ูุงู:** `bot/handlers/customer/earn_money_handler.py`

- ุงูฺฉุงู ุชุจุฏู ฺฉุงุฑุจุฑ ุนุงุฏ ุจู ุจุงุฒุงุฑุงุจ ุจุง ฺฉ ฺฉูฺฉ
- ููุงุด ุงุทูุงุนุงุช ฺฉุงูู ุจุฑูุงูู ุจุงุฒุงุฑุงุจ
- ููฺฉ ุฏุนูุช ุงุฎุชุตุงุต ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- ููู ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ุชุจุฏู ุจู ุจุงุฒุงุฑุงุจ

**ุฏฺฉููโูุง ุชุนุงูู:**
- โ ุชุจุฏู ุจู ุจุงุฒุงุฑุงุจ
- ๐ ุงุทูุงุนุงุช ุจุดุชุฑ
- ๐ ุจุงุฒ ฺฉุฑุฏู ูพูู ุจุงุฒุงุฑุงุจ

### 2. ุณุณุชู ูุดุฏุงุฑูุง ุงุชุตุงู ๐
**ูุงู:** `database/models/service.py` ู `bot/handlers/customer/service_management.py`

- ููุฏ ุฌุฏุฏ `connection_alerts` ุฏุฑ ูุฏู Service
- ูุงุจูุช ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูุดุฏุงุฑูุง ุชูุณุท ฺฉุงุฑุจุฑ
- ููุงุด ูุถุนุช ูุดุฏุงุฑูุง ุฏุฑ ุฌุฒุฆุงุช ุณุฑูุณ
- ุขูุงุฏู ุจุฑุง ูพุงุฏูโุณุงุฒ ุงุฑุณุงู ููุชูฺฉุดูโูุง ุฎูุฏฺฉุงุฑ

### 3. ุณุณุชู ุณูุงูุงุช ูุชุฏุงูู ูพุดุฑูุชู โ
**ูุงู:** `bot/handlers/customer/service_management.py`

**ุฏุณุชูโุจูุฏโูุง FAQ:**
- ๐ ูุดฺฉูุงุช ุงุชุตุงู
- โก ูุดฺฉูุงุช ุณุฑุนุช  
- ๐ฑ ุฑุงูููุง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ
- ๐ ููฺฉ ุงุดุชุฑุงฺฉ
- ๐ฑ๐ป ุงุณุชูุงุฏู ฺูุฏ ุฏุณุชฺฏุงู

ูุฑ ุฏุณุชู ุดุงูู ุฑุงูููุง ฺฉุงูู ู ฺฏุงูโุจูโฺฏุงู ูุงุฑุณ

### 4. ุฏุงุดุจูุฑุฏ ูพุดุฑูุชู ุงุฏูู ๐
**ูุงู:** `bot/handlers/admin/panel.py`

**ุขูุงุฑูุง ุฌุฏุฏ ููุงุด ุฏุงุฏู ุดุฏู:**

**๐ฅ ุขูุงุฑ ฺฉุงุฑุจุฑุงู:**
- ฺฉู ฺฉุงุฑุจุฑุงู
- ูุดุชุฑุงู
- ุจุงุฒุงุฑุงุจโูุง

**๐ง ุขูุงุฑ ุณุฑูุณโูุง:**
- ุชุนุฏุงุฏ ุณุฑูุณโูุง ูุนุงู
- ุชูฺฉฺฉ ุจุฑ ุงุณุงุณ ุฏุณุชูโุจูุฏ (ุนุงุฏุ ูฺูุ ฺฏููฺฏุ ุชุฑุฏ)

**๐ฐ ุขูุงุฑ ูุงู:**
- ฺฉู ุฏุฑุขูุฏ
- ุฏุฑุขูุฏ ูุงู ุฌุงุฑ
- ฺฉูุณููโูุง ุฏุฑ ุงูุชุธุงุฑ ูพุฑุฏุงุฎุช

**๐ฅ ุขูุงุฑ ูพููโูุง:**
- ฺฉู ฺฉุงุฑุจุฑุงู ูพููโูุง
- ฺฉุงุฑุจุฑุงู ุขููุงู

### 5. ุขูุงุฑ ุชูุตู ุจุงุฒุงุฑุงุจ ๐
**ูุงู:** `bot/handlers/marketer/marketer_handlers.py`

**ุขูุงุฑูุง ุฌุฏุฏ ุจุฑุง ุจุงุฒุงุฑุงุจ:**
- ฺฉู ุฏุนูุชโูุง
- ฺฉุงุฑุจุฑุงู ูุนุงู (ุฏุงุฑุง ุณุฑูุณ ูุนุงู)
- ููุฌูุฏ ูุงุจู ุชุณูู
- ฺฉู ุฏุฑุขูุฏ (ุดุงูู ุชุณูู ุดุฏู)
- ุฏุฑุขูุฏ ูุงู ุฌุงุฑ

### 6. Query Functionโูุง ุฌุฏุฏ
**ูุงู:** `database/models/queries/user_queries.py`

ุชูุงุจุน ุฌุฏุฏ ุงุถุงูู ุดุฏู:
```python
- get_user_count_by_role()          # ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุจุฑ ุงุณุงุณ ููุด
- get_active_services_count()       # ุชุนุฏุงุฏ ุณุฑูุณโูุง ูุนุงู
- get_active_services_by_category() # ุณุฑูุณโูุง ูุนุงู ุจุฑ ุงุณุงุณ ุฏุณุชู
- get_total_revenue()               # ฺฉู ุฏุฑุขูุฏ
- get_monthly_revenue()             # ุฏุฑุขูุฏ ูุงูุงูู
- get_total_pending_commissions()   # ฺฉู ฺฉูุณููโูุง ุฏุฑ ุงูุชุธุงุฑ
- get_active_referrals_count()      # ุชุนุฏุงุฏ ุฑูุฑุงูโูุง ูุนุงู
- get_total_earned_commission()     # ฺฉู ฺฉูุณูู ฺฉุณุจ ุดุฏู
- get_monthly_earned_commission()   # ฺฉูุณูู ฺฉุณุจ ุดุฏู ูุงูุงูู
```

## ๐ ูุชูโูุง ูุงุฑุณ ุฌุฏุฏ
**ูุงู:** `locales/fa.json`

ุจุด ุงุฒ 20 ูุชู ูุงุฑุณ ุฌุฏุฏ ุงุถุงูู ุดุฏู ุดุงูู:
- ูพุงูโูุง ฺฉุณุจ ุฏุฑุขูุฏ
- ูุชูโูุง FAQ ฺฉุงูู
- ูพุงูโูุง ูุดุฏุงุฑ ุงุชุตุงู
- ูพุงูโูุง ุฏุงุดุจูุฑุฏ ูพุดุฑูุชู
- ุขูุงุฑูุง ุจุงุฒุงุฑุงุจ

## ๐๏ธ ุชุบุฑุงุช ุฏุชุงุจุณ

### Migration ุฌุฏุฏ
**ูุงู:** `alembic/versions/002_add_connection_alerts.py`

ุงุถุงูู ุดุฏู ููุฏ `connection_alerts` ุจู ุฌุฏูู `services`

**ุจุฑุง ุงุนูุงู ุชุบุฑุงุช:**
```bash
alembic upgrade head
```

## ๐จ ุจูุจูุฏูุง UX/UI

1. **ููููุง ุชุนุงูู ุจูุชุฑ** - ุงุณุชูุงุฏู ุงุฒ Inline Keyboard ุจุฑุง ูุงูุจุฑ ุฑุงุญุชโุชุฑ
2. **ูพุงูโูุง ูุงุถุญโุชุฑ** - ุชูุถุญุงุช ฺฉุงููโุชุฑ ู ุฑุงูููุง ฺฏุงูโุจูโฺฏุงู
3. **ููุงุด ุขูุงุฑ ุจุง ูุฑูุช ุนุฏุฏ** - ุงุณุชูุงุฏู ุงุฒ ฺฉุงูุง ุจุฑุง ุฎูุงูุง ุจูุชุฑ
4. **ุงููุฌโูุง ููุงุณุจ** - ุจุฑุง ุฏุฑฺฉ ุณุฑุนโุชุฑ ููุน ุงุทูุงุนุงุช

## ๐ง ุจูุจูุฏูุง ูู

1. **ูพุดุชุจุงู ุงุฒ ฺูุฏ ุงุฏูู**
2. **Queryโูุง ุจูููโุชุฑ** ุจุง ุงุณุชูุงุฏู ุงุฒ JOIN ู aggregation
3. **Error handling ุจูุชุฑ** - ุงุณุชูุงุฏู ุงุฒ try/except ู log_error
4. **ฺฉุฏ ุชูุฒุชุฑ** - separation of concerns ู modular design

## ๐ TODO ูุง ุจุงู ูุงูุฏู

ูุงุจูุชโูุง ุฒุฑ ุฏุฑ TODO List ูุณุชูุฏ ุงูุง ูููุฒ ูพุงุฏูโุณุงุฒ ูุดุฏูโุงูุฏ:

- [ ] ุจูุจูุฏ ููู ูุฏุฑุช ุณุฑูุณ ุจุง ุฏุณุชูโุจูุฏ ุจูุชุฑ ุฏฺฉููโูุง
- [ ] ุงุทููุงู ุงุฒ ูพุงุฏูโุณุงุฒ ฺฉุงูู ุฏุณุชูโุจูุฏโูุง ุณุฑูุณ
- [ ] ุจูุจูุฏ ุณุณุชู ุชุงุฏ ุฑุณุฏ ุจุง ูพุดโููุงุด ุจูุชุฑ
- [ ] ูพุงุฏูโุณุงุฒ ุณุณุชู ููุชูฺฉุดู ุจุฑุง ุฑูุฏุงุฏูุง ููู
- [ ] ูพุงุฏูโุณุงุฒ ูุงุจูุช ูุณุฏูุฏ ฺฉุฑุฏู/ุฑูุน ูุณุฏูุฏ ฺฉุงุฑุจุฑุงู
- [ ] ูพุงุฏูโุณุงุฒ ุณุณุชู ฺฉุฏ ุชุฎูู
- [ ] ุจูุจูุฏ ููุงุด ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุจุง ููุชุฑ
- [ ] ูุงุจูุช ุงูุชูุงู ุณุฑูุณ ุจู ฺฉุงุฑุจุฑ ุฏฺฏุฑ

## ๐ ูฺฉุงุช ููู ุจุฑุง ุงุณุชูุฑุงุฑ

1. **Migration ุงุฌุฑุง ฺฉูุฏ:**
   ```bash
   cd /mnt/1AF200F7F200D941/Projects/Bots/meowvpnbot
   alembic upgrade head
   ```

2. **ูุงู .env ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:**
   ```env
   # ุงุฒ ADMIN_ID ุชฺฉ ุจู ADMIN_IDS ฺูุฏ ุชุง ุชุบุฑ ุฏูุฏ
   ADMIN_ID=123456789,987654321  # ุจุง ฺฉุงูุง ุฌุฏุง ุดููุฏ
   ```

3. **Requirements ุฑุง ูุตุจ ฺฉูุฏ:**
   ```bash
   pip install -r requirements.txt
   ```

4. **ุฑุจุงุช ุฑุง ุฑุณุชุงุฑุช ฺฉูุฏ**

## ๐ ูพุดุชุจุงู ู ุชูุณุนู

ุจุฑุง ูพุงุฏูโุณุงุฒ ูุงุจูุชโูุง ุจุงู ูุงูุฏู ุง ุณูุงุฑุดโุณุงุฒ ุจุดุชุฑุ ูโุชูุงูุฏ:
- ูุงูโูุง handler ุฑุง ุฏุฑ `bot/handlers/` ุจุฑุฑุณ ฺฉูุฏ
- Query functionโูุง ุฌุฏุฏ ุฑุง ุฏุฑ `database/models/queries/` ุงุถุงูู ฺฉูุฏ
- ูุชูโูุง ูุงุฑุณ ุฑุง ุฏุฑ `locales/fa.json` ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ

---

**ุชุงุฑุฎ ุจูโุฑูุฒุฑุณุงู:** 2025-10-16
**ูุณุฎู:** 2.0.0
**ูุถุนุช:** โ ุขูุงุฏู ุงุณุชูุฑุงุฑ

